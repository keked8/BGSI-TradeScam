-- Ensure the script is a LocalScript placed in StarterPlayerScripts or StarterGui

-- Get the local player and their PlayerGui
local player = game.Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Create the main screen GUI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "ButtonBoxGUI"
screenGui.ResetOnSpawn = false -- Keeps the GUI persistent
screenGui.Parent = playerGui

-- Create the main black box frame
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 250, 0, 220) -- Slightly taller for title adjustments
mainFrame.Position = UDim2.new(0.5, -125, 0.5, -110) -- Centered
mainFrame.BackgroundColor3 = Color3.new(0, 0, 0) -- Black background
mainFrame.BorderSizePixel = 2
mainFrame.BorderColor3 = Color3.fromRGB(138, 43, 226) -- Neon purple outline
mainFrame.Active = true
mainFrame.Parent = screenGui

-- Add custom draggable functionality
local dragging = false
local dragInput, dragStart, startPos

mainFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = mainFrame.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

mainFrame.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        dragInput = input
    end
end)

game:GetService("UserInputService").InputChanged:Connect(function(input)
    if dragging and input == dragInput then
        local delta = input.Position - dragStart
        mainFrame.Position = UDim2.new(
            startPos.X.Scale,
            startPos.X.Offset + delta.X,
            startPos.Y.Scale,
            startPos.Y.Offset + delta.Y
        )
    end
end)

-- Create the title bar
local titleBackground = Instance.new("Frame")
titleBackground.Name = "TitleBackground"
titleBackground.Size = UDim2.new(1, 0, 0, 40) -- Taller title background
titleBackground.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- Black background
titleBackground.BorderSizePixel = 2
titleBackground.BorderColor3 = Color3.fromRGB(138, 43, 226) -- Neon purple outline
titleBackground.Parent = mainFrame

local title = Instance.new("TextLabel")
title.Name = "Title"
title.Size = UDim2.new(1, -4, 1, -4) -- Slightly smaller for padding
title.Position = UDim2.new(0, 2, 0, 2)
title.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- Black background
title.TextColor3 = Color3.fromRGB(138, 43, 226) -- Neon purple text
title.Text = "Keked Trade Scam"
title.Font = Enum.Font.SourceSansBold
title.TextSize = 24 -- Larger title text
title.Parent = titleBackground

-- Button properties
local buttonNames = {"Freeze Trade", "Force Accept", "Force Confirm"}
local buttonHeight = 40
local padding = 10 -- The padding between buttons
local totalHeight = mainFrame.Size.Y.Offset - titleBackground.Size.Y.Offset - 2 * padding -- Total height available for buttons
local buttonSpacing = (totalHeight - #buttonNames * buttonHeight) / (#buttonNames + 1) -- Calculate the spacing to distribute evenly

local buttonSize = UDim2.new(0.9, 0, 0, buttonHeight) -- Slightly bigger buttons

-- Create buttons
for i, name in ipairs(buttonNames) do
    local button = Instance.new("TextButton")
    button.Name = name
    button.Size = buttonSize
    button.Position = UDim2.new(0.05, 0, 0, titleBackground.Size.Y.Offset + padding + (i - 1) * (buttonHeight + buttonSpacing))
    button.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- Black background
    button.BorderSizePixel = 2
    button.BorderColor3 = Color3.fromRGB(138, 43, 226) -- Neon purple outline
    button.TextColor3 = Color3.fromRGB(138, 43, 226) -- Neon purple text
    button.Text = name
    button.Font = Enum.Font.SourceSansBold
    button.TextSize = 20 -- Larger and bolder button text
    button.AutoButtonColor = false
    button.Parent = mainFrame

    -- Button click functionality
    button.MouseButton1Click:Connect(function()
        button.BackgroundColor3 = Color3.fromRGB(50, 50, 50) -- Dim black on click
        print(name .. " clicked!")
        wait(0.1) -- Reduced wait time to 0.1 seconds for quicker color change
        button.BackgroundColor3 = Color3.fromRGB(0, 0, 0) -- Reset to black
    end)

    -- Button hover effects
    button.MouseEnter:Connect(function()
        button.BackgroundTransparency = 0.1
    end)

    button.MouseLeave:Connect(function()
        button.BackgroundTransparency = 0
    end)
end
